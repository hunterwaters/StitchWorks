{"ast":null,"code":"import React,{useEffect}from'react';import{addToCart}from'../actions/cartActions';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{removeFromCart}from'../actions/cartActions';function CartScreen(props){var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;var productId=props.match.params.id;var qty=props.location.search?Number(props.location.search.split(\"=\")[1]):1;var dispatch=useDispatch();var removeFromCartHandler=function removeFromCartHandler(productId){dispatch(removeFromCart(productId));};useEffect(function(){if(productId){dispatch(addToCart(productId,qty));}},[]);var checkoutHandler=function checkoutHandler(){props.history.push(\"/signin?redirect=shipping\");};return/*#__PURE__*/React.createElement(\"div\",{className:\"cart\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cart-list\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"cart-list-container\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Shopping Cart\"),/*#__PURE__*/React.createElement(\"div\",null,\"Price\")),cartItems.length===0?/*#__PURE__*/React.createElement(\"div\",null,\"Cart is empty\"):cartItems.map(function(item){return/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"cart-image\"},/*#__PURE__*/React.createElement(\"img\",{src:item.image,alt:\"product\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-name\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Link,{to:\"/product/\"+item.product},item.name)),/*#__PURE__*/React.createElement(\"div\",null,\"Qty:\",/*#__PURE__*/React.createElement(\"select\",{value:item.qty,onChange:function onChange(e){return addToCart(item.product,e.target.value);}},/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"1\"),/*#__PURE__*/React.createElement(\"option\",{value:\"2\"},\"2\"),/*#__PURE__*/React.createElement(\"option\",{value:\"3\"},\"3\"),/*#__PURE__*/React.createElement(\"option\",{value:\"4\"},\"4\")),/*#__PURE__*/React.createElement(\"button\",{type:\"button\",className:\"button-primary\",onClick:function onClick(){return removeFromCartHandler(item.product);}},\"Delete\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-price\"},\"$\",item.price));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-action\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Subtotal (\",cartItems.reduce(function(a,c){return a+c.qty;},0),\" items) : $\",cartItems.reduce(function(a,c){return a+c.price*c.qty;},0)),/*#__PURE__*/React.createElement(\"button\",{onClick:checkoutHandler,className:\"button full-width\",disabled:cartItems.length===0},\"Proceed to Checkout\")));}export default CartScreen;","map":{"version":3,"sources":["/Users/hunterrwaters/Desktop/e-commerce/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","addToCart","useDispatch","useSelector","Link","removeFromCart","CartScreen","props","cart","state","cartItems","productId","match","params","id","qty","location","search","Number","split","dispatch","removeFromCartHandler","checkoutHandler","history","push","length","map","item","image","product","name","e","target","value","price","reduce","a","c"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,SAAR,KAAwB,wBAAxB,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAAQC,cAAR,KAA6B,wBAA7B,CAEA,QAASC,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACvB,GAAMC,CAAAA,IAAI,CAAGL,WAAW,CAAC,SAAAM,KAAK,QAAIA,CAAAA,KAAK,CAACD,IAAV,EAAN,CAAxB,CADuB,GAGpBE,CAAAA,SAHoB,CAGPF,IAHO,CAGpBE,SAHoB,CAI3B,GAAMC,CAAAA,SAAS,CAAGJ,KAAK,CAACK,KAAN,CAAYC,MAAZ,CAAmBC,EAArC,CACA,GAAMC,CAAAA,GAAG,CAAGR,KAAK,CAACS,QAAN,CAAeC,MAAf,CAAuBC,MAAM,CAACX,KAAK,CAACS,QAAN,CAAeC,MAAf,CAAsBE,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAD,CAA7B,CAAmE,CAA/E,CACA,GAAMC,CAAAA,QAAQ,CAAGlB,WAAW,EAA5B,CACA,GAAMmB,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACV,SAAD,CAAe,CACzCS,QAAQ,CAACf,cAAc,CAACM,SAAD,CAAf,CAAR,CACH,CAFD,CAIAX,SAAS,CAAC,UAAM,CACZ,GAAGW,SAAH,CAAc,CACVS,QAAQ,CAACnB,SAAS,CAACU,SAAD,CAAYI,GAAZ,CAAV,CAAR,CACH,CACJ,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1Bf,KAAK,CAACgB,OAAN,CAAcC,IAAd,CAAmB,2BAAnB,EACH,CAFD,CAGI,mBAAO,2BAAK,SAAS,CAAG,MAAjB,eACH,2BAAK,SAAS,CAAG,WAAjB,eACA,0BAAI,SAAS,CAAG,qBAAhB,eACJ,2CACI,8CADJ,cAII,uCAJJ,CADI,CAUAd,SAAS,CAACe,MAAV,GAAqB,CAArB,cACA,+CADA,CAKAf,SAAS,CAACgB,GAAV,CAAe,SAAAC,IAAI,qBACf,2CACK,2BAAK,SAAS,CAAC,YAAf,eACC,2BAAK,GAAG,CAAEA,IAAI,CAACC,KAAf,CAAsB,GAAG,CAAC,SAA1B,EADD,CADL,cAII,2BAAK,SAAS,CAAG,WAAjB,eACJ,4CACI,oBAAC,IAAD,EAAM,EAAE,CAAG,YAAcD,IAAI,CAACE,OAA9B,EACCF,IAAI,CAACG,IADN,CADJ,CADI,cAMJ,mDAEI,8BAAQ,KAAK,CAAGH,IAAI,CAACZ,GAArB,CAA0B,QAAQ,CAAE,kBAACgB,CAAD,QAAO9B,CAAAA,SAAS,CAAC0B,IAAI,CAACE,OAAN,CAAeE,CAAC,CAACC,MAAF,CAASC,KAAxB,CAAhB,EAApC,eACI,8BAAQ,KAAK,CAAG,GAAhB,MADJ,cAEI,8BAAQ,KAAK,CAAG,GAAhB,MAFJ,cAGI,8BAAQ,KAAK,CAAG,GAAhB,MAHJ,cAII,8BAAQ,KAAK,CAAG,GAAhB,MAJJ,CAFJ,cAQI,8BAAQ,IAAI,CAAG,QAAf,CAAwB,SAAS,CAAG,gBAApC,CAAqD,OAAO,CAAE,yBAAMZ,CAAAA,qBAAqB,CAACM,IAAI,CAACE,OAAN,CAA3B,EAA9D,WARJ,CANI,CAJJ,cAuBI,2BAAK,SAAS,CAAG,YAAjB,MACMF,IAAI,CAACO,KADX,CAvBJ,CADe,EAAnB,CAfA,CADA,CADG,cAiDH,2BAAK,SAAS,CAAG,aAAjB,eACI,2CACexB,SAAS,CAACyB,MAAV,CAAiB,SAACC,CAAD,CAAIC,CAAJ,QAAUD,CAAAA,CAAC,CAAGC,CAAC,CAACtB,GAAhB,EAAjB,CAAsC,CAAtC,CADf,eAGGL,SAAS,CAACyB,MAAV,CAAiB,SAACC,CAAD,CAAIC,CAAJ,QAASD,CAAAA,CAAC,CAACC,CAAC,CAACH,KAAF,CAAUG,CAAC,CAACtB,GAAvB,EAAjB,CAA6C,CAA7C,CAHH,CADJ,cAMI,8BAAQ,OAAO,CAAGO,eAAlB,CAAmC,SAAS,CAAG,mBAA/C,CAAmE,QAAQ,CAAIZ,SAAS,CAACe,MAAV,GAAqB,CAApG,wBANJ,CAjDG,CAAP,CA4DH,CAED,cAAenB,CAAAA,UAAf","sourcesContent":["import React, {useEffect} from 'react';\nimport {addToCart} from '../actions/cartActions';\nimport {useDispatch, useSelector} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport {removeFromCart} from '../actions/cartActions';\n\nfunction CartScreen(props) {\n    const cart = useSelector(state => state.cart);\n\nconst {cartItems} = cart;\nconst productId = props.match.params.id;\nconst qty = props.location.search? Number(props.location.search.split(\"=\")[1]):1;\nconst dispatch = useDispatch();\nconst removeFromCartHandler = (productId) => {\n    dispatch(removeFromCart(productId));\n}\n\nuseEffect(() => {\n    if(productId) {\n        dispatch(addToCart(productId, qty))\n    }\n}, []);\n\nconst checkoutHandler = () => {\n    props.history.push(\"/signin?redirect=shipping\");\n}\n    return <div className = \"cart\">\n        <div className = \"cart-list\">\n        <ul className = \"cart-list-container\">\n    <li>\n        <h3>\n            Shopping Cart\n        </h3>\n        <div>\n            Price\n        </div>\n    </li>\n    {\n        cartItems.length === 0 ?\n        <div>\n            Cart is empty\n        </div>\n        :\n        cartItems.map( item => \n            <li>\n                 <div className=\"cart-image\">\n                  <img src={item.image} alt=\"product\" />\n                </div>\n                <div className = \"cart-name\">\n            <div>\n                <Link to ={\"/product/\" + item.product}>\n                {item.name}\n                </Link>\n            </div>\n            <div>\n                Qty:\n                <select value ={item.qty} onChange={(e) => addToCart(item.product, e.target.value)}>\n                    <option value = \"1\">1</option>\n                    <option value = \"2\">2</option>\n                    <option value = \"3\">3</option>\n                    <option value = \"4\">4</option>\n                </select>\n                <button type = \"button\" className = \"button-primary\" onClick={() => removeFromCartHandler(item.product)}>\n                    Delete\n                </button>\n            </div>\n                </div>\n                <div className = \"cart-price\">\n                    ${item.price}\n                </div>\n            </li>\n        )\n    }\n        </ul>\n        </div>\n        <div className = \"cart-action\">\n            <h3>\n                Subtotal ({cartItems.reduce((a, c) => a + c.qty, 0)} items)\n                :\n             ${cartItems.reduce((a, c)=> a+c.price * c.qty, 0 ) }\n            </h3>\n            <button onClick ={checkoutHandler} className = \"button full-width\" disabled = {cartItems.length === 0}>\n                Proceed to Checkout \n            </button>\n        </div>\n    </div>\n}\n\nexport default CartScreen;"]},"metadata":{},"sourceType":"module"}