{"ast":null,"code":"import _toConsumableArray from\"/Users/hunterrwaters/Desktop/e-commerce/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/hunterrwaters/Desktop/e-commerce/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{Link}from'react-router-dom';import{detailsProduct}from'../actions/productActions';function ProductScreen(props){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var productDetails=useSelector(function(state){return state.productDetails;});var product=productDetails.product,loading=productDetails.loading,error=productDetails.error;var dispatch=useDispatch();useEffect(function(){dispatch(detailsProduct(props.match.params.id));return function(){//\n};},[]);var handleAddToCart=function handleAddToCart(){props.history.push(\"/cart/\"+props.match.params.id+\"?qty=\"+qty);};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"back-to-result\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Back to results\")),loading?/*#__PURE__*/React.createElement(\"div\",null,\"Loading...\"):error?/*#__PURE__*/React.createElement(\"div\",null,error):/*#__PURE__*/React.createElement(\"div\",{className:\"details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"details-image\"},/*#__PURE__*/React.createElement(\"img\",{src:product.image,alt:\"product\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"details-info\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"h4\",null,product.name)),/*#__PURE__*/React.createElement(\"li\",null,product.rating,\" Stars (\",product.numReviews,\" Reviews)\"),/*#__PURE__*/React.createElement(\"li\",null,\"Price:  \",/*#__PURE__*/React.createElement(\"b\",null,\"$\",product.price)),/*#__PURE__*/React.createElement(\"li\",null,\"Description:\",/*#__PURE__*/React.createElement(\"div\",null,product.description)))),/*#__PURE__*/React.createElement(\"div\",{className:\"details-action\"},/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,\"Price: \",/*#__PURE__*/React.createElement(\"b\",null,\"$\",product.price)),/*#__PURE__*/React.createElement(\"li\",null,\"Status: \",product.countInStock>0?\"In Stock\":\"Out of stock.\"),/*#__PURE__*/React.createElement(\"li\",null,\"Qty: \",/*#__PURE__*/React.createElement(\"select\",{value:qty,onChange:function onChange(e){setQty(e.target.value);}},_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x+1,value:x+1},x+1);}))),/*#__PURE__*/React.createElement(\"li\",null,product.countInStock>0&&/*#__PURE__*/React.createElement(\"button\",{onClick:handleAddToCart,className:\"button\"},\"Add to Cart\"))))));}export default ProductScreen;","map":{"version":3,"sources":["/Users/hunterrwaters/Desktop/e-commerce/frontend/src/screens/ProductScreen.js"],"names":["React","useEffect","useState","useSelector","useDispatch","Link","detailsProduct","ProductScreen","props","qty","setQty","productDetails","state","product","loading","error","dispatch","match","params","id","handleAddToCart","history","push","image","name","rating","numReviews","price","description","countInStock","e","target","value","Array","keys","map","x"],"mappings":"8QAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAASC,cAAT,KAA+B,2BAA/B,CAEA,QAASC,CAAAA,aAAT,CAAwBC,KAAxB,CAA+B,eAELN,QAAQ,CAAC,CAAD,CAFH,wCAEpBO,GAFoB,eAEfC,MAFe,eAI3B,GAAMC,CAAAA,cAAc,CAAGR,WAAW,CAAC,SAAAS,KAAK,QAAIA,CAAAA,KAAK,CAACD,cAAV,EAAN,CAAlC,CAJ2B,GAKpBE,CAAAA,OALoB,CAKOF,cALP,CAKpBE,OALoB,CAKXC,OALW,CAKOH,cALP,CAKXG,OALW,CAKFC,KALE,CAKOJ,cALP,CAKFI,KALE,CAM3B,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CAEAH,SAAS,CAAC,UAAM,CACZe,QAAQ,CAACV,cAAc,CAACE,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,EAApB,CAAf,CAAR,CACA,MAAO,WAAM,CACT;AACH,CAFD,CAGH,CALQ,CAKN,EALM,CAAT,CAOA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1BZ,KAAK,CAACa,OAAN,CAAcC,IAAd,CAAmB,SAAWd,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,EAA9B,CAAmC,OAAnC,CAA6CV,GAAhE,EACH,CAFD,CAIA,mBAAO,4CACH,2BAAK,SAAS,CAAG,gBAAjB,eACI,oBAAC,IAAD,EAAM,EAAE,CAAE,GAAV,oBADJ,CADG,CAKHK,OAAO,cAAE,4CAAF,CACPC,KAAK,cAAE,+BAAMA,KAAN,CAAF,cAEG,2BAAK,SAAS,CAAC,SAAf,eACI,2BAAK,SAAS,CAAC,eAAf,eACN,2BAAK,GAAG,CAAEF,OAAO,CAACU,KAAlB,CAAyB,GAAG,CAAC,SAA7B,EADM,CADJ,cAIA,2BAAK,SAAS,CAAG,cAAjB,eACI,2CACI,2CACI,8BAAKV,OAAO,CAACW,IAAb,CADJ,CADJ,cAII,8BACKX,OAAO,CAACY,MADb,YAC6BZ,OAAO,CAACa,UADrC,aAJJ,cAOI,sDACW,iCAAKb,OAAO,CAACc,KAAb,CADX,CAPJ,cAUI,0DAEI,+BACKd,OAAO,CAACe,WADb,CAFJ,CAVJ,CADJ,CAJA,cAuBJ,2BAAK,SAAS,CAAG,gBAAjB,eACI,2CACI,qDACW,iCAAKf,OAAO,CAACc,KAAb,CADX,CADJ,cAII,yCACad,OAAO,CAACgB,YAAR,CAAuB,CAAvB,CAA0B,UAA1B,CAAsC,eADnD,CAJJ,cAOI,mDACS,8BAAQ,KAAK,CAAIpB,GAAjB,CAAsB,QAAQ,CAAE,kBAACqB,CAAD,CAAO,CAACpB,MAAM,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN,CAAuB,CAA/D,EACA,mBAAIC,KAAK,CAACpB,OAAO,CAACgB,YAAT,CAAL,CAA4BK,IAA5B,EAAJ,EAAwCC,GAAxC,CAA4C,SAAAC,CAAC,qBAC1C,8BAAQ,GAAG,CAAIA,CAAC,CAAG,CAAnB,CAAsB,KAAK,CAAIA,CAAC,CAAG,CAAnC,EAAuCA,CAAC,CAAG,CAA3C,CAD0C,EAA7C,CADA,CADT,CAPJ,cAcI,8BACSvB,OAAO,CAACgB,YAAR,CAAuB,CAAvB,eAA6B,8BAAQ,OAAO,CAAGT,eAAlB,CAAmC,SAAS,CAAE,QAA9C,gBADtC,CAdJ,CADJ,CAvBI,CARL,CAAP,CAwDH,CAED,cAAeb,CAAAA,aAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {Link} from 'react-router-dom';\nimport { detailsProduct } from '../actions/productActions';\n\nfunction ProductScreen (props) {\n\n    const [qty, setQty] = useState(1);\n    \n    const productDetails = useSelector(state => state.productDetails)\n    const {product, loading, error} = productDetails;\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(detailsProduct(props.match.params.id));\n        return () => {\n            //\n        }\n    }, [])\n\n    const handleAddToCart = () => {\n        props.history.push(\"/cart/\" + props.match.params.id + \"?qty=\" + qty)\n    }\n    \n    return <div>\n        <div className = \"back-to-result\">\n            <Link to =\"/\">Back to results</Link>\n        </div>\n        {\n        loading? <div>Loading...</div> :\n        error? <div>{error}</div>:\n            (\n                <div className=\"details\">\n                    <div className=\"details-image\">\n              <img src={product.image} alt=\"product\"></img>\n            </div>\n                <div className = \"details-info\">\n                    <ul>\n                        <li>\n                            <h4>{product.name}</h4>\n                        </li>\n                        <li>\n                            {product.rating} Stars ({product.numReviews } Reviews)\n                        </li>\n                        <li>\n                           Price:  <b>${product.price}</b>\n                        </li>\n                        <li>\n                            Description:\n                            <div>\n                                {product.description}\n                            </div>\n                        </li>\n                    </ul>\n                </div>\n            <div className = \"details-action\">\n                <ul>\n                    <li>\n                        Price: <b>${product.price}</b>\n                    </li>\n                    <li>\n                        Status: {product.countInStock > 0? \"In Stock\": \"Out of stock.\"}\n                    </li>\n                    <li>\n                        Qty: <select value = {qty} onChange={(e) => {setQty(e.target.value)}}>\n                            {[...Array(product.countInStock).keys()].map(x=>\n                                <option key = {x + 1} value = {x + 1}>{x + 1}</option>\n                                )}\n                        </select>\n                    </li>\n                    <li>\n                            {product.countInStock > 0 &&  <button onClick ={handleAddToCart} className =\"button\">Add to Cart</button>}\n                    </li>\n                </ul>\n            </div>\n         </div>\n            )\n            }\n    </div>\n\n}\n\nexport default ProductScreen;"]},"metadata":{},"sourceType":"module"}